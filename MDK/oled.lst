C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE OLED
OBJECT MODULE PLACED IN .\Out_File\oled.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\Device\oled.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Device;..\Libr
                    -aries) DEBUG OBJECTEXTEND PRINT(.\oled.lst) OBJECT(.\Out_File\oled.obj)

line level    source

   1          #include "oled.h"
   2          
   3          const uint8 code fontx[][5] ={
   4              {0x00, 0x00, 0x00, 0x00, 0x00},
   5              {0x3E, 0x5B, 0x4F, 0x5B, 0x3E},
   6              {0x3E, 0x6B, 0x4F, 0x6B, 0x3E},
   7              {0x1C, 0x3E, 0x7C, 0x3E, 0x1C},
   8              {0x18, 0x3C, 0x7E, 0x3C, 0x18},
   9              {0x1C, 0x57, 0x7D, 0x57, 0x1C},
  10              {0x1C, 0x5E, 0x7F, 0x5E, 0x1C},
  11              {0x00, 0x18, 0x3C, 0x18, 0x00},
  12              {0xFF, 0xE7, 0xC3, 0xE7, 0xFF},
  13              {0x00, 0x18, 0x24, 0x18, 0x00},
  14              {0xFF, 0xE7, 0xDB, 0xE7, 0xFF},
  15              {0x30, 0x48, 0x3A, 0x06, 0x0E},
  16              {0x26, 0x29, 0x79, 0x29, 0x26},
  17              {0x40, 0x7F, 0x05, 0x05, 0x07},
  18              {0x40, 0x7F, 0x05, 0x25, 0x3F},
  19              {0x5A, 0x3C, 0xE7, 0x3C, 0x5A},
  20              {0x7F, 0x3E, 0x1C, 0x1C, 0x08},
  21              {0x08, 0x1C, 0x1C, 0x3E, 0x7F},
  22              {0x14, 0x22, 0x7F, 0x22, 0x14},
  23              {0x5F, 0x5F, 0x00, 0x5F, 0x5F},
  24              {0x06, 0x09, 0x7F, 0x01, 0x7F},
  25              {0x00, 0x66, 0x89, 0x95, 0x6A},
  26              {0x60, 0x60, 0x60, 0x60, 0x60},
  27              {0x94, 0xA2, 0xFF, 0xA2, 0x94},
  28              {0x08, 0x04, 0x7E, 0x04, 0x08},
  29              {0x10, 0x20, 0x7E, 0x20, 0x10},
  30              {0x08, 0x08, 0x2A, 0x1C, 0x08},
  31              {0x08, 0x1C, 0x2A, 0x08, 0x08},
  32              {0x1E, 0x10, 0x10, 0x10, 0x10},
  33              {0x0C, 0x1E, 0x0C, 0x1E, 0x0C},
  34              {0x30, 0x38, 0x3E, 0x38, 0x30},
  35              {0x06, 0x0E, 0x3E, 0x0E, 0x06},
  36              {0x00, 0x00, 0x00, 0x00, 0x00},
  37              {0x00, 0x00, 0x5F, 0x00, 0x00},
  38              {0x00, 0x07, 0x00, 0x07, 0x00},
  39              {0x14, 0x7F, 0x14, 0x7F, 0x14},
  40              {0x24, 0x2A, 0x7F, 0x2A, 0x12},
  41              {0x23, 0x13, 0x08, 0x64, 0x62},
  42              {0x36, 0x49, 0x56, 0x20, 0x50},
  43              {0x00, 0x08, 0x07, 0x03, 0x00},
  44              {0x00, 0x1C, 0x22, 0x41, 0x00},
  45              {0x00, 0x41, 0x22, 0x1C, 0x00},
  46              {0x2A, 0x1C, 0x7F, 0x1C, 0x2A},
  47              {0x08, 0x08, 0x3E, 0x08, 0x08},
  48              {0x00, 0x80, 0x70, 0x30, 0x00},
  49              {0x08, 0x08, 0x08, 0x08, 0x08},
  50              {0x00, 0x00, 0x60, 0x60, 0x00},
  51              {0x20, 0x10, 0x08, 0x04, 0x02},
  52              {0x3E, 0x51, 0x49, 0x45, 0x3E},
  53              {0x00, 0x42, 0x7F, 0x40, 0x00},
  54              {0x72, 0x49, 0x49, 0x49, 0x46},
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 2   

  55              {0x21, 0x41, 0x49, 0x4D, 0x33},
  56              {0x18, 0x14, 0x12, 0x7F, 0x10},
  57              {0x27, 0x45, 0x45, 0x45, 0x39},
  58              {0x3C, 0x4A, 0x49, 0x49, 0x31},
  59              {0x41, 0x21, 0x11, 0x09, 0x07},
  60              {0x36, 0x49, 0x49, 0x49, 0x36},
  61              {0x46, 0x49, 0x49, 0x29, 0x1E},
  62              {0x00, 0x00, 0x14, 0x00, 0x00},
  63              {0x00, 0x40, 0x34, 0x00, 0x00},
  64              {0x00, 0x08, 0x14, 0x22, 0x41},
  65              {0x14, 0x14, 0x14, 0x14, 0x14},
  66              {0x00, 0x41, 0x22, 0x14, 0x08},
  67              {0x02, 0x01, 0x59, 0x09, 0x06},
  68              {0x3E, 0x41, 0x5D, 0x59, 0x4E},
  69              {0x7C, 0x12, 0x11, 0x12, 0x7C},
  70              {0x7F, 0x49, 0x49, 0x49, 0x36},
  71              {0x3E, 0x41, 0x41, 0x41, 0x22},
  72              {0x7F, 0x41, 0x41, 0x41, 0x3E},
  73              {0x7F, 0x49, 0x49, 0x49, 0x41},
  74              {0x7F, 0x09, 0x09, 0x09, 0x01},
  75              {0x3E, 0x41, 0x41, 0x51, 0x73},
  76              {0x7F, 0x08, 0x08, 0x08, 0x7F},
  77              {0x00, 0x41, 0x7F, 0x41, 0x00},
  78              {0x20, 0x40, 0x41, 0x3F, 0x01},
  79              {0x7F, 0x08, 0x14, 0x22, 0x41},
  80              {0x7F, 0x40, 0x40, 0x40, 0x40},
  81              {0x7F, 0x02, 0x1C, 0x02, 0x7F},
  82              {0x7F, 0x04, 0x08, 0x10, 0x7F},
  83              {0x3E, 0x41, 0x41, 0x41, 0x3E},
  84              {0x7F, 0x09, 0x09, 0x09, 0x06},
  85              {0x3E, 0x41, 0x51, 0x21, 0x5E},
  86              {0x7F, 0x09, 0x19, 0x29, 0x46},
  87              {0x26, 0x49, 0x49, 0x49, 0x32},
  88              {0x03, 0x01, 0x7F, 0x01, 0x03},
  89              {0x3F, 0x40, 0x40, 0x40, 0x3F},
  90              {0x1F, 0x20, 0x40, 0x20, 0x1F},
  91              {0x3F, 0x40, 0x38, 0x40, 0x3F},
  92              {0x63, 0x14, 0x08, 0x14, 0x63},
  93              {0x03, 0x04, 0x78, 0x04, 0x03},
  94              {0x61, 0x59, 0x49, 0x4D, 0x43},
  95              {0x00, 0x7F, 0x41, 0x41, 0x41},
  96              {0x02, 0x04, 0x08, 0x10, 0x20},
  97              {0x00, 0x41, 0x41, 0x41, 0x7F},
  98              {0x04, 0x02, 0x01, 0x02, 0x04},
  99              {0x40, 0x40, 0x40, 0x40, 0x40},
 100              {0x00, 0x03, 0x07, 0x08, 0x00},
 101              {0x20, 0x54, 0x54, 0x78, 0x40},
 102              {0x7F, 0x28, 0x44, 0x44, 0x38},
 103              {0x38, 0x44, 0x44, 0x44, 0x28},
 104              {0x38, 0x44, 0x44, 0x28, 0x7F},
 105              {0x38, 0x54, 0x54, 0x54, 0x18},
 106              {0x00, 0x08, 0x7E, 0x09, 0x02},
 107              {0x18, 0xA4, 0xA4, 0x9C, 0x78},
 108              {0x7F, 0x08, 0x04, 0x04, 0x78},
 109              {0x00, 0x44, 0x7D, 0x40, 0x00},
 110              {0x20, 0x40, 0x40, 0x3D, 0x00},
 111              {0x7F, 0x10, 0x28, 0x44, 0x00},
 112              {0x00, 0x41, 0x7F, 0x40, 0x00},
 113              {0x7C, 0x04, 0x78, 0x04, 0x78},
 114              {0x7C, 0x08, 0x04, 0x04, 0x78},
 115              {0x38, 0x44, 0x44, 0x44, 0x38},
 116              {0xFC, 0x18, 0x24, 0x24, 0x18},
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 3   

 117              {0x18, 0x24, 0x24, 0x18, 0xFC},
 118              {0x7C, 0x08, 0x04, 0x04, 0x08},
 119              {0x48, 0x54, 0x54, 0x54, 0x24},
 120              {0x04, 0x04, 0x3F, 0x44, 0x24},
 121              {0x3C, 0x40, 0x40, 0x20, 0x7C},
 122              {0x1C, 0x20, 0x40, 0x20, 0x1C},
 123              {0x3C, 0x40, 0x30, 0x40, 0x3C},
 124              {0x44, 0x28, 0x10, 0x28, 0x44},
 125              {0x4C, 0x90, 0x90, 0x90, 0x7C},
 126              {0x44, 0x64, 0x54, 0x4C, 0x44},
 127              {0x00, 0x08, 0x36, 0x41, 0x00},
 128              {0x00, 0x00, 0x77, 0x00, 0x00},
 129              {0x00, 0x41, 0x36, 0x08, 0x00},
 130              {0x02, 0x01, 0x02, 0x04, 0x02},
 131              {0x3C, 0x26, 0x23, 0x26, 0x3C},
 132              {0x1E, 0xA1, 0xA1, 0x61, 0x12},
 133              {0x3A, 0x40, 0x40, 0x20, 0x7A},
 134              {0x38, 0x54, 0x54, 0x55, 0x59},
 135              {0x21, 0x55, 0x55, 0x79, 0x41},
 136              {0x21, 0x54, 0x54, 0x78, 0x41},
 137              {0x21, 0x55, 0x54, 0x78, 0x40},
 138              {0x20, 0x54, 0x55, 0x79, 0x40},
 139              {0x0C, 0x1E, 0x52, 0x72, 0x12},
 140              {0x39, 0x55, 0x55, 0x55, 0x59},
 141              {0x39, 0x54, 0x54, 0x54, 0x59},
 142              {0x39, 0x55, 0x54, 0x54, 0x58},
 143              {0x00, 0x00, 0x45, 0x7C, 0x41},
 144              {0x00, 0x02, 0x45, 0x7D, 0x42},
 145              {0x00, 0x01, 0x45, 0x7C, 0x40},
 146              {0xF0, 0x29, 0x24, 0x29, 0xF0},
 147              {0xF0, 0x28, 0x25, 0x28, 0xF0},
 148              {0x7C, 0x54, 0x55, 0x45, 0x00},
 149              {0x20, 0x54, 0x54, 0x7C, 0x54},
 150              {0x7C, 0x0A, 0x09, 0x7F, 0x49},
 151              {0x32, 0x49, 0x49, 0x49, 0x32},
 152              {0x32, 0x48, 0x48, 0x48, 0x32},
 153              {0x32, 0x4A, 0x48, 0x48, 0x30},
 154              {0x3A, 0x41, 0x41, 0x21, 0x7A},
 155              {0x3A, 0x42, 0x40, 0x20, 0x78},
 156              {0x00, 0x9D, 0xA0, 0xA0, 0x7D},
 157              {0x39, 0x44, 0x44, 0x44, 0x39},
 158              {0x3D, 0x40, 0x40, 0x40, 0x3D},
 159              {0x3C, 0x24, 0xFF, 0x24, 0x24},
 160              {0x48, 0x7E, 0x49, 0x43, 0x66},
 161              {0x2B, 0x2F, 0xFC, 0x2F, 0x2B},
 162              {0xFF, 0x09, 0x29, 0xF6, 0x20},
 163              {0xC0, 0x88, 0x7E, 0x09, 0x03},
 164              {0x20, 0x54, 0x54, 0x79, 0x41},
 165              {0x00, 0x00, 0x44, 0x7D, 0x41},
 166              {0x30, 0x48, 0x48, 0x4A, 0x32},
 167              {0x38, 0x40, 0x40, 0x22, 0x7A},
 168              {0x00, 0x7A, 0x0A, 0x0A, 0x72},
 169              {0x7D, 0x0D, 0x19, 0x31, 0x7D},
 170              {0x26, 0x29, 0x29, 0x2F, 0x28},
 171              {0x26, 0x29, 0x29, 0x29, 0x26},
 172              {0x30, 0x48, 0x4D, 0x40, 0x20},
 173              {0x38, 0x08, 0x08, 0x08, 0x08},
 174              {0x08, 0x08, 0x08, 0x08, 0x38},
 175              {0x2F, 0x10, 0xC8, 0xAC, 0xBA},
 176              {0x2F, 0x10, 0x28, 0x34, 0xFA},
 177              {0x00, 0x00, 0x7B, 0x00, 0x00},
 178              {0x08, 0x14, 0x2A, 0x14, 0x22},
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 4   

 179              {0x22, 0x14, 0x2A, 0x14, 0x08},
 180              {0xAA, 0x00, 0x55, 0x00, 0xAA},
 181              {0xAA, 0x55, 0xAA, 0x55, 0xAA},
 182              {0x00, 0x00, 0x00, 0xFF, 0x00},
 183              {0x10, 0x10, 0x10, 0xFF, 0x00},
 184              {0x14, 0x14, 0x14, 0xFF, 0x00},
 185              {0x10, 0x10, 0xFF, 0x00, 0xFF},
 186              {0x10, 0x10, 0xF0, 0x10, 0xF0},
 187              {0x14, 0x14, 0x14, 0xFC, 0x00},
 188              {0x14, 0x14, 0xF7, 0x00, 0xFF},
 189              {0x00, 0x00, 0xFF, 0x00, 0xFF},
 190              {0x14, 0x14, 0xF4, 0x04, 0xFC},
 191              {0x14, 0x14, 0x17, 0x10, 0x1F},
 192              {0x10, 0x10, 0x1F, 0x10, 0x1F},
 193              {0x14, 0x14, 0x14, 0x1F, 0x00},
 194              {0x10, 0x10, 0x10, 0xF0, 0x00},
 195              {0x00, 0x00, 0x00, 0x1F, 0x10},
 196              {0x10, 0x10, 0x10, 0x1F, 0x10},
 197              {0x10, 0x10, 0x10, 0xF0, 0x10},
 198              {0x00, 0x00, 0x00, 0xFF, 0x10},
 199              {0x10, 0x10, 0x10, 0x10, 0x10},
 200              {0x10, 0x10, 0x10, 0xFF, 0x10},
 201              {0x00, 0x00, 0x00, 0xFF, 0x14},
 202              {0x00, 0x00, 0xFF, 0x00, 0xFF},
 203              {0x00, 0x00, 0x1F, 0x10, 0x17},
 204              {0x00, 0x00, 0xFC, 0x04, 0xF4},
 205              {0x14, 0x14, 0x17, 0x10, 0x17},
 206              {0x14, 0x14, 0xF4, 0x04, 0xF4},
 207              {0x00, 0x00, 0xFF, 0x00, 0xF7},
 208              {0x14, 0x14, 0x14, 0x14, 0x14},
 209              {0x14, 0x14, 0xF7, 0x00, 0xF7},
 210              {0x14, 0x14, 0x14, 0x17, 0x14},
 211              {0x10, 0x10, 0x1F, 0x10, 0x1F},
 212              {0x14, 0x14, 0x14, 0xF4, 0x14},
 213              {0x10, 0x10, 0xF0, 0x10, 0xF0},
 214              {0x00, 0x00, 0x1F, 0x10, 0x1F},
 215              {0x00, 0x00, 0x00, 0x1F, 0x14},
 216              {0x00, 0x00, 0x00, 0xFC, 0x14},
 217              {0x00, 0x00, 0xF0, 0x10, 0xF0},
 218              {0x10, 0x10, 0xFF, 0x10, 0xFF},
 219              {0x14, 0x14, 0x14, 0xFF, 0x14},
 220              {0x10, 0x10, 0x10, 0x1F, 0x00},
 221              {0x00, 0x00, 0x00, 0xF0, 0x10},
 222              {0xFF, 0xFF, 0xFF, 0xFF, 0xFF},
 223              {0xF0, 0xF0, 0xF0, 0xF0, 0xF0},
 224              {0xFF, 0xFF, 0xFF, 0x00, 0x00},
 225              {0x00, 0x00, 0x00, 0xFF, 0xFF},
 226              {0x0F, 0x0F, 0x0F, 0x0F, 0x0F},
 227              {0x38, 0x44, 0x44, 0x38, 0x44},
 228              {0x7C, 0x2A, 0x2A, 0x3E, 0x14},
 229              {0x7E, 0x02, 0x02, 0x06, 0x06},
 230              {0x02, 0x7E, 0x02, 0x7E, 0x02},
 231              {0x63, 0x55, 0x49, 0x41, 0x63},
 232              {0x38, 0x44, 0x44, 0x3C, 0x04},
 233              {0x40, 0x7E, 0x20, 0x1E, 0x20},
 234              {0x06, 0x02, 0x7E, 0x02, 0x02},
 235              {0x99, 0xA5, 0xE7, 0xA5, 0x99},
 236              {0x1C, 0x2A, 0x49, 0x2A, 0x1C},
 237              {0x4C, 0x72, 0x01, 0x72, 0x4C},
 238              {0x30, 0x4A, 0x4D, 0x4D, 0x30},
 239              {0x30, 0x48, 0x78, 0x48, 0x30},
 240              {0xBC, 0x62, 0x5A, 0x46, 0x3D},
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 5   

 241              {0x3E, 0x49, 0x49, 0x49, 0x00},
 242              {0x7E, 0x01, 0x01, 0x01, 0x7E},
 243              {0x2A, 0x2A, 0x2A, 0x2A, 0x2A},
 244              {0x44, 0x44, 0x5F, 0x44, 0x44},
 245              {0x40, 0x51, 0x4A, 0x44, 0x40},
 246              {0x40, 0x44, 0x4A, 0x51, 0x40},
 247              {0x00, 0x00, 0xFF, 0x01, 0x03},
 248              {0xE0, 0x80, 0xFF, 0x00, 0x00},
 249              {0x08, 0x08, 0x6B, 0x6B, 0x08},
 250              {0x36, 0x12, 0x36, 0x24, 0x36},
 251              {0x06, 0x0F, 0x09, 0x0F, 0x06},
 252              {0x00, 0x00, 0x18, 0x18, 0x00},
 253              {0x00, 0x00, 0x10, 0x10, 0x00},
 254              {0x30, 0x40, 0xFF, 0x01, 0x01},
 255              {0x00, 0x1F, 0x01, 0x01, 0x1E},
 256              {0x00, 0x19, 0x1D, 0x17, 0x12},
 257              {0x00, 0x3C, 0x3C, 0x3C, 0x3C},
 258              {0x00, 0x00, 0x00, 0x00, 0x00}
 259          };
 260          /***
 261          const uint8 code BMP1[] =
 262          {
 263                  0x00,0x03,0x05,0x09,0x11,0xFF,0x11,0x89,0x05,0xC3,0x00,0xE0,0x00,0xF0,0x00,0xF8,
 264                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x44,0x28,0xFF,0x11,0xAA,0x44,0x00,0x00,0x00,
 265                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 266                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 267                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 268                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x83,0x01,0x38,0x44,0x82,0x92,
 269                  0x92,0x74,0x01,0x83,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x44,0xFF,0x01,0x7D,
 270                  0x7D,0x7D,0x01,0x7D,0x7D,0x7D,0x7D,0x01,0x7D,0x7D,0x7D,0x7D,0x7D,0x01,0xFF,0x00,
 271                  0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,
 272                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00,
 273                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 274                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 275                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 276                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,
 277                  0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,
 278                  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,
 279                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 280                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x03,0x03,
 281                  0xF3,0x13,0x11,0x11,0x11,0x11,0x11,0x11,0x01,0xF1,0x11,0x61,0x81,0x01,0x01,0x01,
 282                  0x81,0x61,0x11,0xF1,0x01,0x01,0x01,0x01,0x41,0x41,0xF1,0x01,0x01,0x01,0x01,0x01,
 283                  0xC1,0x21,0x11,0x11,0x11,0x11,0x21,0xC1,0x01,0x01,0x01,0x01,0x41,0x41,0xF1,0x01,
 284                  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x11,0x11,0x11,0x11,0x11,0xD3,0x33,
 285                  0x03,0x03,0x3F,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 286                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 287                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 288                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xE0,0x00,0x00,
 289                  0x7F,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x7F,0x00,0x00,0x01,0x06,0x18,0x06,
 290                  0x01,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x40,0x40,0x7F,0x40,0x40,0x00,0x00,0x00,
 291                  0x1F,0x20,0x40,0x40,0x40,0x40,0x20,0x1F,0x00,0x00,0x00,0x00,0x40,0x40,0x7F,0x40,
 292                  0x40,0x00,0x00,0x00,0x00,0x60,0x00,0x00,0x00,0x00,0x40,0x30,0x0C,0x03,0x00,0x00,
 293                  0x00,0x00,0xE0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 294                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 295                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 296                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x06,0x06,
 297                  0x06,0x06,0x04,0x04,0x04,0x84,0x44,0x44,0x44,0x84,0x04,0x04,0x84,0x44,0x44,0x44,
 298                  0x84,0x04,0x04,0x04,0x84,0xC4,0x04,0x04,0x04,0x04,0x84,0x44,0x44,0x44,0x84,0x04,
 299                  0x04,0x04,0x04,0x04,0x84,0x44,0x44,0x44,0x84,0x04,0x04,0x04,0x04,0x04,0x84,0x44,
 300                  0x44,0x44,0x84,0x04,0x04,0x84,0x44,0x44,0x44,0x84,0x04,0x04,0x04,0x04,0x06,0x06,
 301                  0x06,0x06,0x07,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 302                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 6   

 303                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 304                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 305                  0x00,0x00,0x00,0x00,0x00,0x10,0x18,0x14,0x12,0x11,0x00,0x00,0x0F,0x10,0x10,0x10,
 306                  0x0F,0x00,0x00,0x00,0x10,0x1F,0x10,0x00,0x00,0x00,0x08,0x10,0x12,0x12,0x0D,0x00,
 307                  0x00,0x18,0x00,0x00,0x0D,0x12,0x12,0x12,0x0D,0x00,0x00,0x18,0x00,0x00,0x10,0x18,
 308                  0x14,0x12,0x11,0x00,0x00,0x10,0x18,0x14,0x12,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
 309                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 310                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 311                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 312                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 313                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 314                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,
 315                  0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 316                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 317                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 318                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 319                  0x00,0x7F,0x03,0x0C,0x30,0x0C,0x03,0x7F,0x00,0x00,0x38,0x54,0x54,0x58,0x00,0x00,
 320                  0x7C,0x04,0x04,0x78,0x00,0x00,0x3C,0x40,0x40,0x7C,0x00,0x00,0x00,0x00,0x00,0x00,
 321                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 322                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xAA,0xAA,0xAA,
 323                  0x28,0x08,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 324                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 325                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x03,0x0C,0x30,0x0C,0x03,0x7F,
 326                  0x00,0x00,0x26,0x49,0x49,0x49,0x32,0x00,0x00,0x7F,0x02,0x04,0x08,0x10,0x7F,0x00,
 327          };
 328          ***/
 329          
 330          //========================================================================
 331          // 描述: OLED模块写命令.
 332          // 参数: 写的命令.
 333          // 返回: none.
 334          //========================================================================
 335          static void oled_write_command(uint8 IIC_Command)
 336          {
 337   1          hardiic_start();
 338   1          hardiic_send_byte(OLED_ADDR);            //Slave address,SA0=0
 339   1          hardiic_wait_ack(); 
 340   1          hardiic_send_byte(0x00);                    //write command
 341   1              hardiic_wait_ack();     
 342   1          hardiic_send_byte(IIC_Command); 
 343   1              hardiic_wait_ack();     
 344   1          hardiic_stop();
 345   1      }
 346          
 347          //========================================================================
 348          // 描述: OLED模块写数据.
 349          // 参数: 写的数据.
 350          // 返回: none.
 351          //========================================================================
 352          static void oled_write_data(uint8 IIC_Data)
 353          {
 354   1          hardiic_start();
 355   1          hardiic_send_byte(OLED_ADDR);                       //D/C#=0; R/W#=0
 356   1              hardiic_wait_ack();     
 357   1          hardiic_send_byte(0x40);                    //write data
 358   1              hardiic_wait_ack();     
 359   1          hardiic_send_byte(IIC_Data);
 360   1              hardiic_wait_ack();     
 361   1          hardiic_stop();
 362   1      }
 363          
 364          //========================================================================
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 7   

 365          // 描述: OLED模块写一个字节.
 366          // 参数: dat:要写入的字节 ; cmd:写入的字节是数据（1）还是命令（0）
 367          // 返回: none.
 368          //========================================================================
 369          static void oled_wr_byte(uint8 dat,uint8 cmd)
 370          {
 371   1          if(cmd)
 372   1          {
 373   2              oled_write_data(dat);
 374   2          }else{
 375   2              oled_write_command(dat);
 376   2              }
 377   1      }
 378          
 379          //========================================================================
 380          // 描述: 坐标设置
 381          // 参数: x,y:坐标; 
 382          // 返回: none.
 383          //========================================================================
 384          void oled_set_pos(uint8 x, uint8 y) 
 385          {       
 386   1          oled_wr_byte(0xb0+y,OLED_CMD);              //设置页地址（0-7）
 387   1              oled_wr_byte(((x&0xf0)>>4)|0x10,OLED_CMD);      //设置显示位置-列低地址
 388   1              oled_wr_byte((x&0x0f),OLED_CMD);         //设置显示位置-列高地址   
 389   1      }
 390          
 391          //========================================================================
 392          // 描述: 开启OLED显示
 393          // 参数: none.
 394          // 返回: none.
 395          //========================================================================
 396          void oled_display_on()
 397          {
 398   1              oled_wr_byte(0X8D,OLED_CMD);  //SET DCDC命令
 399   1              oled_wr_byte(0X14,OLED_CMD);  //DCDC ON
 400   1              oled_wr_byte(0XAF,OLED_CMD);  //DISPLAY ON
 401   1      }
 402          
 403          //========================================================================
 404          // 描述: 关闭OLED显示
 405          // 参数: none.
 406          // 返回: none.
 407          //========================================================================
 408          void oled_display_off()
 409          {
 410   1              oled_wr_byte(0X8D,OLED_CMD);  //SET DCDC命令
 411   1              oled_wr_byte(0X10,OLED_CMD);  //DCDC OFF
 412   1              oled_wr_byte(0XAE,OLED_CMD);  //DISPLAY OFF
 413   1      }
 414          
 415          //========================================================================
 416          // 描述: 清屏
 417          // 参数: none.
 418          // 返回: none.
 419          //========================================================================
 420          void oled_clear()  
 421          {  
 422   1              uint8 y,x;
 423   1              for(y=0;y<4;y++)
 424   1              {
 425   2                      for(x=0;x<128;x++)
 426   2                      {
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 8   

 427   3                              _oled_disbuffer[x][y]=0x00;
 428   3                      }
 429   2              }
 430   1      }
 431          
 432          //========================================================================
 433          // 描述: 更新显示
 434          // 参数: none.
 435          // 返回: none.
 436          //========================================================================
 437          void oled_display()  
 438          {  
 439   1          uint8 x,y;
 440   1              for(y=0;y<4;y++)  
 441   1              {  
 442   2                      oled_wr_byte (0xb0+y,OLED_CMD);    //设置页地址（0-7）
 443   2                      oled_wr_byte (0x00,OLED_CMD);      //设置显示位置-列低地址
 444   2                      oled_wr_byte (0x10,OLED_CMD);      //设置显示位置-列高地址  
 445   2                      for(x=0;x<128;x++)oled_wr_byte(_oled_disbuffer[x][y],OLED_DATA); 
 446   2              } 
 447   1      
 448   1      }//更新显示
 449          
 450          //========================================================================
 451          // 描述: OLED填充
 452          // 参数: dot:
 453          // 返回: none.
 454          //========================================================================
 455          void oled_fill(uint8 dot)  
 456          {  
 457   1              uint8 y,x;
 458   1              for(y=0;y<4;y++)
 459   1              {
 460   2                      for(x=0;x<128;x++)
 461   2                      {
 462   3                              _oled_disbuffer[x][y]=dot;
 463   3                      }
 464   2              }
 465   1      }
 466          
 467          //========================================================================
 468          // 描述: 计算m^n函数
 469          // 参数: m,n:要计算的数值
 470          // 返回: none.
 471          //========================================================================
 472          // static unsigned int oled_pow(uint8 m,uint8 n)
 473          // {
 474          //      unsigned int result=1;   
 475          //      while(n--)result*=m;    
 476          //      return result;
 477          // }
 478          
 479          //========================================================================
 480          // 描述: 在指定位置显示一个点
 481          // 参数: x,y:坐标; pixel:亮或灭
 482          // 返回: none.
 483          //========================================================================
 484          void oled_set_pixel(uint8 x, uint8 y,uint8 pixel) 
 485          { 
 486   1          if (x > OLED_MAX_COLUMN || y > OLED_MAX_ROW) {
 487   2              return;
 488   2          }
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 9   

 489   1          else
 490   1          {
 491   2              if (pixel) {
 492   3                  _oled_disbuffer[x][y / 8] |= (1 << (y % 8));
 493   3              }
 494   2              else {
 495   3                  _oled_disbuffer[x][y / 8] &= ~(1 << (y % 8));
 496   3              }
 497   2          }
 498   1      }
 499          
 500          //========================================================================
 501          // 描述: 在指定位置显示一个字符
 502          // 参数: x,y:起点坐标; chr:要显示的字符;
 503          // 返回: none.
 504          //========================================================================
 505          void oled_show_char(int8 x,int8 y,uint8 chr)
 506          {
 507   1              uint8 temp;
 508   1              uint8 j,i;
 509   1      //      chr=chr-' ';                                              //得到偏移后的值
 510   1              if(x < 0)
 511   1              {
 512   2                      for(j=0;j<5;j++)
 513   2                      {
 514   3                              temp=fontx[chr][j];
 515   3                              for(i=0;i<8;i++)
 516   3                          {   
 517   4                                      if(((x + i) >= 0)){
 518   5                          if(temp&0x01){
 519   6                              oled_set_pixel(x+j,y+i,1);
 520   6                          }
 521   5                      }
 522   4                                      temp>>=1; 
 523   4                          }
 524   3                      }       
 525   2              }
 526   1              else{
 527   2                      for(j=0;j<5;j++)
 528   2                      {
 529   3                              temp=fontx[chr][j];
 530   3                              for(i=0;i<8;i++)
 531   3                          {      
 532   4                                      if(temp&0x01)
 533   4                      {
 534   5                         oled_set_pixel(x+j,y+i,1);  
 535   5                      }
 536   4                      temp>>=1; 
 537   4                              }
 538   3                      }                       
 539   2          }
 540   1      }
 541          
 542          
 543          // void oled_show_char(uint8 x,uint8 y,uint8 chr)
 544          // {            
 545          //      uint8 c=0,i=0;
 546          //      uint8 ci=0,x1=0,y1=y;
 547          //      if(y>4)return;
 548          //      for(ci=0;ci<5;ci++){
 549          //              x1 = x+ci+i*5;
 550          //              if(x1>122){x1=x1-122;y1=y+1;}
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 10  

 551          //              _oled_disbuffer[x1][y1]=fontx[chr][ci];
 552          //      }
 553          // }
 554          
 555                  // unsigned char c=0,i=0;       
 556                  // c=chr-' ';//得到偏移后的值           
 557                  // if(x>Max_Column-1){x=0;y=y+2;}
 558                  // if(Char_Size ==16)
 559                  // {
 560                  //      OLED_Set_Pos(x,y);      
 561                  //      for(i=0;i<8;i++)
 562                  //              OLED_WR_Byte(F8X16[c*16+i],OLED_DATA);
 563                  //      OLED_Set_Pos(x,y+1);
 564                  //      for(i=0;i<8;i++)
 565                  //              OLED_WR_Byte(F8X16[c*16+i+8],OLED_DATA);
 566                  //      }else 
 567                  //      {       
 568                  //              OLED_Set_Pos(x,y);
 569                  //              for(i=0;i<6;i++)
 570                  //                      OLED_WR_Byte(F6x8[c][i],OLED_DATA);
 571              //     }
 572          
 573          //========================================================================
 574          // 描述: 显示一个字符串
 575          // 参数: x,y:起点坐标;chr:要显示的字符串
 576          // 返回: none.
 577          //========================================================================
 578          void oled_show_string(int8 x,int8 y,uint8 *chr)
 579          {
 580   1              uint8 j=0;
 581   1              while (chr[j]!='\0')
 582   1              {               
 583   2                  oled_show_char(x,y,chr[j]);
 584   2                      x+=8;
 585   2                      if(x>120){
 586   3                          x=0;
 587   3                              y+=2;
 588   3                      }
 589   2                      j++;
 590   2              }
 591   1      }
 592          
 593          // //========================================================================
 594          // // 描述: 显示数字
 595          // // 参数: x,y:起点坐标;num:要显示的数值 len: 数字的位数;
 596          // // 返回: none.
 597          // //========================================================================
 598          // void oled_show_num(uint8 x,uint8 y,uint16 num,uint8 len)
 599          // {            
 600          //      uint8 t,temp;
 601          //      uint8 enshow=0;                                            
 602          //      for(t=0;t<len;t++)
 603          //      {
 604          //              temp=(num/oled_pow(10,len-t-1))%10;
 605          //              if(enshow==0&&t<(len-1))
 606          //              {
 607          //                      if(temp==0)
 608          //                      {
 609          //                              oled_show_char(x+5*t,y,' ');
 610          //                              continue;
 611          //                      }else enshow=1; 
 612          //              }
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 11  

 613          //              oled_show_char(x+5*t,y,temp+'0'); 
 614          //      }
 615          // } 
 616          
 617          //========================================================================
 618          // 描述: 在指定位置显示数字
 619          // 参数: x,y:坐标; num:显示的数字; 
 620          // 返回: none.
 621          //========================================================================
 622          void oled_show_num(int8 x,int8 y,int16 num)
 623          {
 624   1              char men[15];
 625   1              //char *str = men;
 626   1              sprintf(men,"%d",num);
 627   1          //_itoa(num,men,10);
 628   1              oled_show_string(x,y,men);
 629   1      } 
 630          
 631          /**************************************************************************
 632          //========================================================================
 633          // 描述: 显示小数
 634          // 参数: x,y:起点坐标;num:要显示的数值 len: 数字的位数;  size:字体大小
 635          // 返回: none.
 636          //========================================================================
 637          void oled_showfloat(uint8 x,uint8 y,uint16 num,uint8 len,uint8 size)
 638          {               
 639              uint8 temp[10];
 640              sprintf(temp,"%.3f",num);
 641              oled_show_string(x,y,(u8 *)temp,size)
 642          } 
 643          *****************************************************************************/
 644          
 645          //========================================================================
 646          // 描述: 显示12*12汉字
 647          // 参数: x,y:起点坐标;lenth:要显示的汉字长度;hz:字库数组
 648          // 返回: none.
 649          //========================================================================
 650          void oled_show_font12(uint8 lenth,const uint8* hz,int x,int y)
 651          {      
 652   1              int zs;
 653   1              uint8 zz,i,j;       
 654   1              if (x < 0)
 655   1          {
 656   2              zs = (0 - x) / 12;
 657   2      
 658   2              for (zz = zs; zz < lenth; zz++)
 659   2              {
 660   3                  for (i = 0; i < 12; i++)
 661   3                  {
 662   4                      for (j = 0; j < 12; j++)
 663   4                      {
 664   5                          if ((zz * 12 + j + x - 12) > 127)return;
 665   5                          if ((y + i - 12) > 63)return;
 666   5                          if (!((zz * 12 + x + j) < 0))
 667   5                          if ((hz[zz * 24 + i * 2 + j / 8]) & (0x80 >> (j % 8)))oled_set_pixel(zz * 12 + x + j, 
             -y + i, 1);
 668   5                      }
 669   4                  }
 670   3      
 671   3              }
 672   2          }
 673   1          else
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 12  

 674   1          {
 675   2              for (zz = 0; zz < lenth; zz++) {
 676   3                  for (i = 0; i < 12; i++)
 677   3                  {
 678   4                      for (j = 0; j < 12; j++)
 679   4                      {
 680   5                          if ((zz *12 + j + x - 12) > 127)return;
 681   5                          if ((y + i - 12) > 63)return;
 682   5                          if ((hz[zz * 24 + i * 2 + j / 8]) & (0x80 >> (j % 8)))oled_set_pixel(zz * 12 + x + j, 
             -y + i, 1);
 683   5                      }
 684   4                  }
 685   3              }
 686   2          }                   
 687   1      }
 688          
 689          //========================================================================
 690          // 描述: 显示16*16汉字
 691          // 参数: 参数: x,y:起点坐标;lenth:要显示的汉字长度;hz:字库数组
 692          // 返回: none.
 693          //========================================================================
 694          void oled_show_font16(uint8 lenth,const uint8* hz,int x,int y)
 695          {    
 696   1              int zs;
 697   1              uint8 zz,i,j;
 698   1              if (x < 0)
 699   1          {
 700   2              zs = (0 - x) / 16;
 701   2              for (zz = zs; zz < lenth; zz++)
 702   2              {
 703   3                  for (i = 0; i < 16; i++)
 704   3                  {
 705   4                      for (j = 0; j < 16; j++)
 706   4                      {
 707   5                          if ((zz * 16 + j + x - 16) > 127)return;
 708   5                          if ((y + i - 16) > 63)return;
 709   5                          if (!((zz * 16 + x + j) < 0))
 710   5                          if ((hz[zz * 32 + i * 2 + j / 8]) & (0x80 >> (j % 8)))oled_set_pixel(zz * 16 + x + j, 
             -y + i, 1);
 711   5                      }
 712   4                  }
 713   3              }
 714   2          }
 715   1          else {
 716   2              for (zz = 0; zz < lenth; zz++) {
 717   3                  for (i = 0; i < 16; i++)
 718   3                  {
 719   4                      for (j = 0; j < 16; j++)
 720   4                      {
 721   5                          if ((zz * 16 + j + x - 16) > 127)return;
 722   5                          if ((y + i - 16) > 63)return;
 723   5                          if ((hz[zz * 32 + i * 2 + j / 8]) & (0x80 >> (j % 8)))oled_set_pixel(zz * 16 + x + j, 
             -y + i, 1);
 724   5                      }
 725   4                  }
 726   3              }
 727   2          }                                   
 728   1      }
 729          
 730          //========================================================================
 731          // 描述: 显示24*24汉字
 732          // 参数: 参数: x,y:起点坐标;lenth:要显示的汉字长度;hz:字库数组
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 13  

 733          // 返回: none.
 734          //========================================================================
 735          void oled_show_font24(uint8 lenth,const uint8* hz,int x,int y)
 736          {   
 737   1              uint16 zs;
 738   1              uint8 zz,i,j;                               
 739   1              if (x < 0) 
 740   1          {
 741   2              zs = (0 - x)/24;
 742   2              
 743   2              for (zz = zs; zz < lenth; zz++)
 744   2              {
 745   3                  for (i = 0; i < 24; i++)
 746   3                  {
 747   4                      for (j = 0; j < 24; j++)
 748   4                      {
 749   5                          if ((zz * 24 + j + x - 24) > 127)return;
 750   5                          if ((y + i - 24) > 63)return;
 751   5                          if(!((zz*24+x+j)<0))
 752   5                          if ((hz[zz * 72 + i * 3 + j / 8]) & (0x80 >> (j % 8)))oled_set_pixel(zz * 24 +x+ j, y 
             -+ i, 1);
 753   5                      }
 754   4                  }
 755   3              }
 756   2          }
 757   1          else {
 758   2              for (zz = 0; zz < lenth; zz++) {
 759   3                  for (i = 0; i < 24; i++)
 760   3                  {
 761   4                      for (j = 0; j < 24; j++)
 762   4                      {
 763   5                          if ((zz * 24 + j + x-24) > 127)return;
 764   5                          if ((y + i-24) > 63)return;
 765   5                          if ((hz[zz * 72 + i * 3 + j / 8]) & (0x80 >> (j % 8)))oled_set_pixel(zz * 24 + x + j, 
             -y + i, 1);
 766   5                      }
 767   4                  }
 768   3              }
 769   2          }
 770   1      }
 771          //========================================================================
 772          // 描述: 显示32*32汉字
 773          // 参数: 参数: x,y:起点坐标;lenth:要显示的汉字长度;hz:字库数组
 774          // 返回: none.
 775          //========================================================================
 776          void oled_show_font32(uint8 lenth, const uint8* hz, int x, int y)
 777          {
 778   1          uint16 zs;
 779   1          uint8 zz, i, j;
 780   1          if (x < 0)
 781   1          {
 782   2              zs = (0 - x) / 32;
 783   2      
 784   2              for (zz = zs; zz < lenth; zz++)
 785   2              {
 786   3                  for (i = 0; i < 32; i++)
 787   3                  {
 788   4                      for (j = 0; j < 32; j++)
 789   4                      {
 790   5                          if ((zz * 32 + j + x - 32) > 127)return;
 791   5                          if ((y + i - 32) > 63)return;
 792   5                          if (!((zz * 32 + x + j) < 0))
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 14  

 793   5                              if ((hz[zz * 128 + j * 4 + i / 8]) & (0x80 >> (i % 8)))oled_set_pixel(zz * 32 + x 
             -+ j, y + i, 1);
 794   5                      }
 795   4                  }
 796   3              }
 797   2          }
 798   1          else {
 799   2              for (zz = 0; zz < lenth; zz++) {
 800   3                  for (i = 0; i < 32; i++)
 801   3                  {
 802   4                      for (j = 0; j < 32; j++)
 803   4                      {
 804   5                          if ((zz * 32 + j + x - 32) > 127)return;
 805   5                          if ((y + i - 32) > 63)return;
 806   5                          if ((hz[zz * 128 + j * 4 + i / 8]) & (0x80 >> (i % 8)))oled_set_pixel(zz * 32 + x + j,
             - y + i, 1);
 807   5                      }
 808   4                  }
 809   3              }
 810   2          }
 811   1      }
 812          //========================================================================
 813          // 描述: 显示BMP图片
 814          // 参数: x0,y0:起点坐标; x1,y1:终点坐标; BMP:要显示的图片
 815          // 返回: none.
 816          //========================================================================
 817          void oled_show_bmp(uint8 x0, uint8 y0,uint8 x1, uint8 y1,uint8* BMP)
 818          {       
 819   1              uint16 j=0;
 820   1              uint8 x,y;
 821   1          y1 = y1 / 8;
 822   1              if(y1%8==0) y=y1/8;      
 823   1              else y=y1/8+1;
 824   1              for(y=y0;y<y1;y++)
 825   1              {
 826   2                      for(x=x0;x<x1;x++)
 827   2                      {
 828   3                              _oled_disbuffer[x][y]=BMP[j++];
 829   3                      }
 830   2              }
 831   1      }
 832          
 833          //========================================================================
 834          // 描述: 初始化OLED
 835          // 参数: none.
 836          // 返回: none.
 837          //========================================================================
 838          void oled_init()
 839          {       
 840   1              hardiic_init();
 841   1          delay(100);
 842   1          oled_wr_byte(0xAE,OLED_CMD);//关闭显示
 843   1              
 844   1              oled_wr_byte(0x40,OLED_CMD);//---set low column address
 845   1              oled_wr_byte(0xB0,OLED_CMD);//---set high column address
 846   1      
 847   1              oled_wr_byte(0xC8,OLED_CMD);//-not offset
 848   1      
 849   1              oled_wr_byte(0x81,OLED_CMD);//设置对比度
 850   1              oled_wr_byte(0xff,OLED_CMD);
 851   1      
 852   1              oled_wr_byte(0xa1,OLED_CMD);//段重定向设置
C51 COMPILER V9.60.0.0   OLED                                                              01/08/2021 01:23:25 PAGE 15  

 853   1      
 854   1              oled_wr_byte(0xa6,OLED_CMD);//
 855   1              
 856   1              oled_wr_byte(0xa8,OLED_CMD);//设置驱动路数
 857   1              oled_wr_byte(0x1f,OLED_CMD);
 858   1              
 859   1              oled_wr_byte(0xd3,OLED_CMD);
 860   1              oled_wr_byte(0x00,OLED_CMD);
 861   1              
 862   1              oled_wr_byte(0xd5,OLED_CMD);
 863   1              oled_wr_byte(0xf0,OLED_CMD);
 864   1              
 865   1              oled_wr_byte(0xd9,OLED_CMD);
 866   1              oled_wr_byte(0x22,OLED_CMD);
 867   1              
 868   1              oled_wr_byte(0xda,OLED_CMD);
 869   1              oled_wr_byte(0x02,OLED_CMD);
 870   1              
 871   1              oled_wr_byte(0xdb,OLED_CMD);
 872   1              oled_wr_byte(0x49,OLED_CMD);
 873   1              
 874   1              oled_wr_byte(0x8d,OLED_CMD);
 875   1              oled_wr_byte(0x14,OLED_CMD);
 876   1              
 877   1              oled_wr_byte(0xaf,OLED_CMD);
 878   1              oled_clear();
 879   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   3890    ----
   CONSTANT SIZE    =   1278    ----
   XDATA SIZE       =    512      86
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
